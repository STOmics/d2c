# Change Log

## 1.3.5(2020-11-30)

功能:

* 降低内存消耗,如果内存超过预算,可以使用-c 1 启用单线程模式,但是会降低速度

## 1.3.4(2020-11-04)

功能:

* 添加对bam records进行的PROPER_PAIR的检查

## 1.3.3(2020-10-29)

功能:

* 更新输出的统计结果文件,增加tssProportion列
  
## 1.3.2(2020-10-29)

功能:

* 去除对bam records进行的PROPER_PAIR的检查
* 增加对barcode无后缀runname的支持
  
## 1.3.1(2020-10-21)

功能:

* 将子命令名称由 *count* 改为 *merge*, *reanno* 改为 *transid*
* 删除部分无用的输出文件,修改文件名及文件头信息,并将输出的文件格式统一改为 **tsv**
* 允许用户不输入 *-r* 参数或 *--bg --bl --ts*, 此种情况输出的QC文件信息会有缺失
* 将原参数标识 *--bt* 替换为 *--bt1*,含义不变;并新增输入参数 *--bt2* 指定输出barcode的tag,默认为 **DB**
* 子命令 *transid* 输出的结果bam文件名称添加后缀 *_transid.bam*

## 1.3.0(2020-10-10)

功能:

* 增加子命令 *reanno* 对bam文件进行重新注释,原有计算功能使用子命令 *count*
* 去除 *--br* 参数,基于用户一批数据只有一个 *run name* 的假设
* 将参数 *--bp --jp* 的含义由百分比改成TopN的数值;更新骤降阈值的计算方法;默认使用算法计算骤降阈值,如果提供了 *--bf--ji* 参数,优先使用提供的参数,如果同时还提供了 *--bp --jp*,则选择后者
* 将饱和度计算的输入数据由原始fragments替换为计算cell barcode之后的数据
* 将相似barcode的判断规则由fragments的start或end相同改为 **start与end相同**

## 1.2.0(2020-09-10)

功能:

* 将画图模块由R脚本转换为python脚本,生成可交互的html页面报告
* 画图模块增加饱和度相关输出,只有当用户输入参数 *--sat* 时生效

测试:

* 测试了blacklist文件为空或者为整条染色体长度的情况,程序无异常
* 测试了contig个数达到7k的情况,程序无异常

## 1.1.0(2020-08-21)

功能:

* 参数 *-b* 改为非必需参数,添加默认的1536种barcode list文件
* 当用户没有指定 *--br* 参数时,将遍历整个bam文件查找run name改为只查找一条染色体数据
* 将默认日志输出路径从可执行文件所在目录,变为用户运行脚本的当前路径,并增加 *--logs* 参数,接受用户自定义路径
* 对数据结果文件建立索引 *\*.bai \*.tbi*

问题:

* 修复依赖库问题,无需添加 *lib* 路径到动态链接库,由程序自动查找
* 修复部分数据计算jaccard index异常问题

## 1.0.0(2020-08-13)

初版本,完成基本功能